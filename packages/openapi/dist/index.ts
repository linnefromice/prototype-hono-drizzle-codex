/**
 * Generated by orval v7.13.2 üç∫
 * Do not edit manually.
 * Prototype Hono Drizzle API
 * OpenAPI spec version: 0.1.0
 */
import zod from "zod";

/**
 * @summary Health check
 */
export const getHealthResponse = zod.object({
  ok: zod.boolean(),
});

/**
 * @summary List items
 */
export const getItemsResponseItem = zod.object({
  id: zod.string().uuid(),
  name: zod.string(),
  createdAt: zod.string().datetime({}),
});
export const getItemsResponse = zod.array(getItemsResponseItem);

/**
 * @summary Create item
 */
export const postItemsBody = zod.object({
  name: zod.string(),
});

/**
 * @summary List conversations for a user
 */
export const getConversationsQueryParams = zod.object({
  userId: zod.string().uuid(),
});

export const getConversationsResponseItem = zod
  .object({
    id: zod.string().uuid(),
    type: zod.enum(["direct", "group"]),
    name: zod.string().nullish(),
    createdAt: zod.string().datetime({}),
  })
  .and(
    zod.object({
      participants: zod.array(
        zod.object({
          id: zod.string().uuid(),
          conversationId: zod.string().uuid(),
          userId: zod.string().uuid(),
          role: zod.enum(["member", "admin"]),
          joinedAt: zod.string().datetime({}),
          leftAt: zod.string().datetime({}).nullish(),
        })
      ),
    })
  );
export const getConversationsResponse = zod.array(getConversationsResponseItem);

/**
 * @summary Create a conversation
 */
export const postConversationsBody = zod.object({
  type: zod.enum(["direct", "group"]),
  name: zod.string().nullish(),
  participantIds: zod.array(zod.string().uuid()).min(1),
});

/**
 * @summary Get a conversation detail
 */
export const getConversationsIdParams = zod.object({
  id: zod.string().uuid(),
});

export const getConversationsIdResponse = zod
  .object({
    id: zod.string().uuid(),
    type: zod.enum(["direct", "group"]),
    name: zod.string().nullish(),
    createdAt: zod.string().datetime({}),
  })
  .and(
    zod.object({
      participants: zod.array(
        zod.object({
          id: zod.string().uuid(),
          conversationId: zod.string().uuid(),
          userId: zod.string().uuid(),
          role: zod.enum(["member", "admin"]),
          joinedAt: zod.string().datetime({}),
          leftAt: zod.string().datetime({}).nullish(),
        })
      ),
    })
  );

/**
 * @summary Add a participant to a conversation
 */
export const postConversationsIdParticipantsParams = zod.object({
  id: zod.string().uuid(),
});

export const postConversationsIdParticipantsBody = zod.object({
  userId: zod.string().uuid(),
  role: zod.enum(["member", "admin"]).nullish(),
});

/**
 * @summary Remove participant from conversation
 */
export const deleteConversationsIdParticipantsUserIdParams = zod.object({
  id: zod.string().uuid(),
  userId: zod.string().uuid(),
});

export const deleteConversationsIdParticipantsUserIdResponse = zod.object({
  id: zod.string().uuid(),
  conversationId: zod.string().uuid(),
  userId: zod.string().uuid(),
  role: zod.enum(["member", "admin"]),
  joinedAt: zod.string().datetime({}),
  leftAt: zod.string().datetime({}).nullish(),
});

/**
 * @summary List messages in a conversation
 */
export const getConversationsIdMessagesParams = zod.object({
  id: zod.string().uuid(),
});

export const getConversationsIdMessagesQueryLimitMax = 100;

export const getConversationsIdMessagesQueryParams = zod.object({
  userId: zod.string().uuid(),
  limit: zod
    .number()
    .min(1)
    .max(getConversationsIdMessagesQueryLimitMax)
    .optional(),
  before: zod.string().datetime({}).optional(),
});

export const getConversationsIdMessagesResponseItem = zod.object({
  id: zod.string().uuid(),
  conversationId: zod.string().uuid(),
  senderUserId: zod.string().uuid().nullish(),
  type: zod.enum(["text", "system"]),
  text: zod.string().nullish(),
  replyToMessageId: zod.string().uuid().nullish(),
  systemEvent: zod.enum(["join", "leave"]).nullish(),
  createdAt: zod.string().datetime({}),
});
export const getConversationsIdMessagesResponse = zod.array(
  getConversationsIdMessagesResponseItem
);

/**
 * @summary Send message to a conversation
 */
export const postConversationsIdMessagesParams = zod.object({
  id: zod.string().uuid(),
});

export const postConversationsIdMessagesBody = zod.object({
  senderUserId: zod.string().uuid().nullable(),
  text: zod.string().nullish(),
  replyToMessageId: zod.string().uuid().nullish(),
  systemEvent: zod.enum(["join", "leave"]).nullish(),
});

/**
 * @summary Add reaction to message
 */
export const postMessagesIdReactionsParams = zod.object({
  id: zod.string().uuid(),
});

export const postMessagesIdReactionsBody = zod.object({
  userId: zod.string().uuid(),
  emoji: zod.string(),
});

/**
 * @summary Remove reaction from message
 */
export const deleteMessagesIdReactionsEmojiParams = zod.object({
  id: zod.string().uuid(),
  emoji: zod.string(),
});

export const deleteMessagesIdReactionsEmojiQueryParams = zod.object({
  userId: zod.string().uuid(),
});

export const deleteMessagesIdReactionsEmojiResponse = zod.object({
  id: zod.string().uuid(),
  messageId: zod.string().uuid(),
  userId: zod.string().uuid(),
  emoji: zod.string(),
  createdAt: zod.string().datetime({}),
});

/**
 * @summary Update last read message in a conversation
 */
export const postConversationsIdReadParams = zod.object({
  id: zod.string().uuid(),
});

export const postConversationsIdReadBody = zod.object({
  userId: zod.string().uuid(),
  lastReadMessageId: zod.string().uuid(),
});

export const postConversationsIdReadResponse = zod.object({
  status: zod.enum(["ok"]),
  read: zod.object({
    id: zod.string().uuid(),
    conversationId: zod.string().uuid(),
    userId: zod.string().uuid(),
    lastReadMessageId: zod.string().uuid().nullish(),
    updatedAt: zod.string().datetime({}),
  }),
});

/**
 * @summary Get unread count for a conversation
 */
export const getConversationsIdUnreadCountParams = zod.object({
  id: zod.string().uuid(),
});

export const getConversationsIdUnreadCountQueryParams = zod.object({
  userId: zod.string().uuid(),
});

export const getConversationsIdUnreadCountResponseUnreadCountMin = 0;

export const getConversationsIdUnreadCountResponse = zod.object({
  unreadCount: zod
    .number()
    .min(getConversationsIdUnreadCountResponseUnreadCountMin),
});

/**
 * @summary Bookmark a message
 */
export const postMessagesIdBookmarksParams = zod.object({
  id: zod.string().uuid(),
});

export const postMessagesIdBookmarksBody = zod.object({
  userId: zod.string().uuid(),
});

/**
 * @summary Remove bookmark from a message
 */
export const deleteMessagesIdBookmarksParams = zod.object({
  id: zod.string().uuid(),
});

export const deleteMessagesIdBookmarksQueryParams = zod.object({
  userId: zod.string().uuid(),
});

export const deleteMessagesIdBookmarksResponse = zod.object({
  status: zod.enum(["unbookmarked"]),
});

/**
 * Get a list of all users. Only available in development mode.
 * @summary List all users (development only)
 */
export const getUsersResponseItem = zod.object({
  id: zod.string().uuid(),
  name: zod.string(),
  avatarUrl: zod.string().nullish(),
  createdAt: zod.string().datetime({}),
});
export const getUsersResponse = zod.array(getUsersResponseItem);

/**
 * Creates a new user. Only available in development mode.
 * @summary Create user (development only)
 */
export const postUsersBody = zod.object({
  name: zod.string().min(1),
  avatarUrl: zod.string().nullish(),
});

/**
 * @summary Get user by ID
 */
export const getUsersUserIdParams = zod.object({
  userId: zod.string().uuid(),
});

export const getUsersUserIdResponse = zod.object({
  id: zod.string().uuid(),
  name: zod.string(),
  avatarUrl: zod.string().nullish(),
  createdAt: zod.string().datetime({}),
});

/**
 * @summary List bookmarks for a user
 */
export const getUsersUserIdBookmarksParams = zod.object({
  userId: zod.string().uuid(),
});

export const getUsersUserIdBookmarksResponseItem = zod.object({
  messageId: zod.string().uuid(),
  conversationId: zod.string().uuid(),
  text: zod.string().nullish(),
  createdAt: zod.string().datetime({}),
  messageCreatedAt: zod.string().datetime({}),
});
export const getUsersUserIdBookmarksResponse = zod.array(
  getUsersUserIdBookmarksResponseItem
);

// Re-export Zod schemas for request validation
export { postItemsBody as CreateItemRequestSchema };
export { postConversationsBody as CreateConversationRequestSchema };
export { postConversationsIdParticipantsBody as AddParticipantRequestSchema };
export { postConversationsIdMessagesBody as SendMessageRequestSchema };
export { postMessagesIdReactionsBody as ReactionRequestSchema };
export { postConversationsIdReadBody as UpdateConversationReadRequestSchema };
export { postMessagesIdBookmarksBody as BookmarkRequestSchema };
export { postUsersBody as CreateUserRequestSchema };

// Re-export TypeScript types for use in repositories and usecases
export type HealthResponse = zod.infer<typeof getHealthResponse>;
export type Item = zod.infer<typeof getItemsResponseItem>;
export type User = zod.infer<typeof postUsersBody> & { id: string; createdAt: string };
export type Participant = zod.infer<typeof deleteConversationsIdParticipantsUserIdResponse>;
export type ConversationDetail = zod.infer<typeof getConversationsIdResponse>;
export type Message = zod.infer<typeof getConversationsIdMessagesResponseItem>;
export type Reaction = zod.infer<typeof deleteMessagesIdReactionsEmojiResponse>;
export type ConversationRead = zod.infer<typeof postConversationsIdReadResponse>['read'];
// Bookmark type is manually defined since Orval doesn't generate POST /messages/{id}/bookmarks response
export type Bookmark = {
  id: string;
  messageId: string;
  userId: string;
  createdAt: string;
};
export type BookmarkListItem = zod.infer<typeof getUsersUserIdBookmarksResponseItem>;
export type CreateConversationRequest = zod.infer<typeof postConversationsBody>;
export type AddParticipantRequest = zod.infer<typeof postConversationsIdParticipantsBody>;
export type SendMessageRequest = zod.infer<typeof postConversationsIdMessagesBody>;
export type ReactionRequest = zod.infer<typeof postMessagesIdReactionsBody>;
export type UpdateConversationReadRequest = zod.infer<typeof postConversationsIdReadBody>;
export type BookmarkRequest = zod.infer<typeof postMessagesIdBookmarksBody>;
